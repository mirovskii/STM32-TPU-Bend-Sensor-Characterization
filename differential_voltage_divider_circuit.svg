<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="30" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">
    Differential Voltage Divider Circuit for R_TPU Measurement
  </text>
  
  <!-- Power Supply -->
  <circle cx="100" cy="100" r="30" fill="none" stroke="#000" stroke-width="2"/>
  <text x="100" y="105" font-size="16" font-weight="bold" text-anchor="middle" fill="#000">3.3V</text>
  
  <!-- Vertical line from power supply -->
  <line x1="100" y1="130" x2="100" y2="180" stroke="#000" stroke-width="2"/>
  
  <!-- Connection point at top -->
  <circle cx="100" cy="180" r="4" fill="#000"/>
  
  <!-- Horizontal line to TPU -->
  <line x1="100" y1="180" x2="350" y2="180" stroke="#000" stroke-width="2"/>
  
  <!-- TPU Resistor (R_TPU) - represented as a rectangle with zigzag pattern -->
  <rect x="350" y="160" width="100" height="40" fill="#FFE6CC" stroke="#D79B00" stroke-width="2"/>
  <path d="M 360,180 L 370,170 L 380,190 L 390,170 L 400,190 L 410,170 L 420,190 L 430,170 L 440,180" 
        fill="none" stroke="#D79B00" stroke-width="2"/>
  <text x="400" y="155" font-size="14" font-weight="bold" text-anchor="middle" fill="#000">R_TPU</text>
  <text x="400" y="220" font-size="12" text-anchor="middle" fill="#666">(TPU Sample)</text>
  
  <!-- ADC1 measurement point (V1) -->
  <circle cx="350" cy="180" r="5" fill="#E74C3C"/>
  <line x1="350" y1="180" x2="280" y2="180" stroke="#E74C3C" stroke-width="2" stroke-dasharray="5,5"/>
  <rect x="200" y="160" width="80" height="40" fill="#FFE6E6" stroke="#E74C3C" stroke-width="2" rx="5"/>
  <text x="240" y="175" font-size="13" font-weight="bold" text-anchor="middle" fill="#E74C3C">ADC1</text>
  <text x="240" y="190" font-size="11" text-anchor="middle" fill="#E74C3C">(V₁)</text>
  
  <!-- Connection point between R_TPU and R_REF -->
  <circle cx="450" cy="180" r="4" fill="#000"/>
  
  <!-- Vertical line down -->
  <line x1="450" y1="180" x2="450" y2="330" stroke="#000" stroke-width="2"/>
  
  <!-- Reference Resistor (R_REF) -->
  <rect x="430" y="330" width="40" height="100" fill="#CCE5FF" stroke="#0066CC" stroke-width="2"/>
  <path d="M 450,340 L 460,350 L 440,360 L 460,370 L 440,380 L 460,390 L 440,400 L 460,410 L 450,420" 
        fill="none" stroke="#0066CC" stroke-width="2"/>
  <text x="520" y="375" font-size="14" font-weight="bold" text-anchor="middle" fill="#000">R_REF</text>
  <text x="520" y="390" font-size="12" text-anchor="middle" fill="#666">(Reference)</text>
  
  <!-- ADC0 measurement point (V2) -->
  <circle cx="450" cy="330" r="5" fill="#27AE60"/>
  <line x1="450" y1="330" x2="550" y2="330" stroke="#27AE60" stroke-width="2" stroke-dasharray="5,5"/>
  <rect x="550" y="310" width="80" height="40" fill="#E6FFE6" stroke="#27AE60" stroke-width="2" rx="5"/>
  <text x="590" y="325" font-size="13" font-weight="bold" text-anchor="middle" fill="#27AE60">ADC0</text>
  <text x="590" y="340" font-size="11" text-anchor="middle" fill="#27AE60">(V₂)</text>
  
  <!-- Ground connection -->
  <line x1="450" y1="430" x2="450" y2="470" stroke="#000" stroke-width="2"/>
  <line x1="430" y1="470" x2="470" y2="470" stroke="#000" stroke-width="3"/>
  <line x1="435" y1="480" x2="465" y2="480" stroke="#000" stroke-width="3"/>
  <line x1="440" y1="490" x2="460" y2="490" stroke="#000" stroke-width="3"/>
  <text x="450" y="515" font-size="14" font-weight="bold" text-anchor="middle" fill="#000">GND (0V)</text>
  
  <!-- Current direction indicator -->
  <text x="480" y="260" font-size="13" font-weight="bold" fill="#8E44AD">I</text>
  <path d="M 465,240 L 465,290" stroke="#8E44AD" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#8E44AD"/>
    </marker>
  </defs>
  
  <!-- Voltage annotations -->
  <text x="320" y="165" font-size="12" font-weight="bold" fill="#E74C3C">V₁</text>
  <text x="480" y="315" font-size="12" font-weight="bold" fill="#27AE60">V₂</text>
  
  <!-- Formulas box -->
  <rect x="50" y="540" width="700" height="50" fill="#F8F9FA" stroke="#666" stroke-width="1" rx="5"/>
  <text x="400" y="560" font-size="13" text-anchor="middle" fill="#000">
    <tspan font-weight="bold">Key Formulas:</tspan>
  </text>
  <text x="400" y="578" font-size="12" text-anchor="middle" fill="#000">
    I = V₂/R_REF     |     ΔV_TPU = V₁ - V₂     |     R_TPU = R_REF × (V₁ - V₂)/V₂
  </text>
  
  <!-- Measurement annotations -->
  <text x="150" y="130" font-size="11" fill="#666" text-anchor="middle">Supply</text>
  <text x="150" y="145" font-size="11" fill="#666" text-anchor="middle">Voltage</text>
</svg>